<head>
    <title>SqlBP: View</title>
</head>
<div id="header-placeholder"></div>
    <script src="../JS/load_HeaderFooter.js"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
        
    <!-- include jQuery library -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- send AJAX request to PHP script -->
    <script>
    $(document).ready(function() {
        $.ajax({
            url: "../PHP/get_database.php",
            type: "POST",
            success: function(response) {
                $('.db-list').html(response);
            },
            error: function(xhr, status, error) {
                console.log(xhr.responseText);
            }
        });
    });
    $(document).ready(function() {
        $.ajax({
            url: "../PHP/get_tables.php",
            type: "POST",
            success: function(response) {
                $('.tables-list').html(response);
            },
            error: function(xhr, status, error) {
                console.log(xhr.responseText);
            }
        });
    });
    $(document).ready(function() {
    // Parse the URL to get the parameter values
    var params = new URLSearchParams(window.location.search);
    var database = params.get('database');
    var table = params.get('table');

    // Send the AJAX request with the parameters
    $.ajax({
        url: "../PHP/get_content.php",
        type: "GET",
        data: { database: database, table: table },
        success: function(response) {
            $('.content').html(response);
        },
        error: function(xhr, status, error) {
            console.log(xhr.responseText);
        }
    });
});

    </script>
</div>

<body>
    <div class="container">
   <!-- <div class="sidebar db-list"></div> -->!
    <div class="sidebar tables-list"></div>
    <main class="main-content">   
        <div class="tab">
            <div class="scrollable-tabs-container">
                <!--LEFT ARROW-->
                <div class="left-arrow"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"/></svg></div>
                <div class="tables-list"><script src="../PHP/get_tables.php"></script></div>
                <!--RIGTH ARROW-->
                <div class="right-arrow active"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"/></svg></div>
              </div>
              <script src="../JS/scroll_tabs.js"></script>
        </div>
        <div class="content"></div>
    </main>
</div>
    <script>
        $('.tab').click(function () {
            $('.tab').removeClass('active');
            $(this).addClass('active');
        });
    </script>

</body>
<div id="footer-placeholder"></div>
